# Quiz (B15, Oct-17) {#b15}

```{r 'B15', include=FALSE, cache=FALSE}
sys.source(paste0(.z$RX, "A99Knitr", ".R"), envir = knitr::knit_global())
sys.source(paste0(.z$RX, "000Packages", ".R"), envir = knitr::knit_global())
sys.source(paste0(.z$RX, "A00AllUDF", ".R"), envir = knitr::knit_global())
#invisible(lapply(f_getPathR(A09isPrime), knitr::read_chunk))
```

## Short Quiz

1. In hypothesis testing,
    a. the smaller the Type I error, the smaller the Type II error will be
    a. the smaller the Type I error, the larger the Type II error will be
    a. Type II error will not be affected by Type I error
    a. the sum of Type I and Type II errors must equal to 1
	  - Answer: \textcolor{black}{b}
1. What type of error occurs if you accept ${H_0}$ when, in fact, it is not true
    a. Type II
    a. Type I
    a. either Type I or Type II, depending on the level of significance
    a. either Type I or Type II, depending on whether the test is one tail or two tail
	  - Answer: \textcolor{black}{a}
1. If the level of significance of a hypothesis test is raised from .01 to .05, the probability of a Type II error
    a. will also increase from .01 to .05
    a. will not change
    a. will decrease
    a. will increase
	  - Answer: \textcolor{black}{c}
1. The sum of the values of ${\alpha}$ and ${\beta}$
    a. always add up to 1.0
    a. always add up to 0.5
    a. is the probability of Type II error
    a. None of these alternatives is correct
	  - Answer: \textcolor{black}{d}
1. Following the p-value approach, the null hypothesis is rejected if 
    a. p-value less than or equal to ${\alpha}$
    a. ${\alpha}$ < p-value
    a. p-value > ${\alpha}$
    a. p-value = 1 - ${\alpha}$
	  - Answer: \textcolor{black}{a}
1. The average manufacturing work week in metropolitan Chattanooga was 40.1 hours last year. It is believed that the recession has led to a reduction in the average work week. To test the validity of this belief, which of the following stated hypothesis formulation is true.
    a. ${H_0} : {\mu} < 40.1 \quad {H_a} : {\mu} \geq 40.1$
    a. ${H_0} : {\mu} \geq 40.1 \quad {H_a} : {\mu} < 40.1$
    a. ${H_0} : {\mu} > 40.1 \quad {H_a} : {\mu} \leq 40.1$
    a. ${H_0} : {\mu} = 40.1 \quad {H_a} : {\mu} \neq 40.1$
	  - Answer: \textcolor{black}{b}
1. Statement about a population developed for the purpose of testing is called:
    a. Hypothesis
    a. Hypothesis testing
    a. Level of significance
    a. Test-statistic
	  - Answer: \textcolor{black}{a}
1. The probability of rejecting the null hypothesis when it is true is called: 
    a. Level of confidence
    a. Level of significance
    a. Power of the test
    a. Difficult to tell
	  - Answer: \textcolor{black}{b}
1. The dividing point between the region where the null hypothesis is rejected and the region where it is not rejected is said to be:
    a. Critical region
    a. Critical value
    a. Acceptance region
    a. Significant region
	  - Answer: \textcolor{black}{b}
1. If the critical region is located equally in both sides of the sampling distribution of test-statistic, the test is called:
    a. One tailed
    a. Two tailed
    a. Right tailed
    a. Left tailed
	  - Answer: \textcolor{black}{b}
1. Test of hypothesis ${H_0}$: ${\mu} \leq 50$ against ${H_a}$: ${\mu} > 50$ leads to:
    a. Left-tailed test
    a. Right-tailed test
    a. Two-tailed test
    a. Difficult to tell
	  - Answer: \textcolor{black}{b}
1. Test of hypothesis ${H_0}$: ${\mu} = 20$ against ${H_1}$: ${\mu} < 20$ leads to:
    a. Right one-sided test
    a. Left one-sided test
    a. Two-sided test
    a. All of the above
	  - Answer: \textcolor{black}{b}
1. A failed student has been promoted by an examiner; it is an example of: 
    a. Type-I error
    a. Type-II error
    a. Unbiased decision
    a. Difficult to tell
	  - Answer: \textcolor{black}{b}
1. The probability of accepting ${H_0}$ when it is True is called: 
    a. Power of the test
    a. Size of the test
    a. Level of confidence
    a. Confidence coefficient
	  - Answer: \textcolor{black}{d}
1. Power of a test is directly related to:
    a. Type-I error
    a. Type-II error
    a. Both (a) and (b)
    a. Neither (a) nor (b)
	  - Answer: \textcolor{black}{b}
  
## Case: JAT 

\textcolor{pink}{Please import the Jayalaxmi data.}


```{r 'B-Jnames', include=FALSE}
# #Object Names for each sheet
namesJ <- c("xxJdata", "xxJbela", "xxJdhar", "xxJdiseases")
```

```{r 'B-Jaya', include=FALSE, eval=FALSE}
# #Path of Object, FileName and MD5Sum
xxJaya <- f_getObject("xxJaya", "B15-Jayalaxmi.xlsx", "8be20492c0181d2269754b3232b992aa")
```

```{r 'B-Jobjects', include=FALSE, eval=FALSE}
# #Create Separate Tibbles for Each Sheet
# #Separate Objects
for(ii in seq_along(namesJ)){
  assign(namesJ[ii], xxJaya[[ii + 1]])
}
#
# #Modifications
# #Rename Headers
names(xxJdiseases) <- c("Type", "Disease", "RH", "Temperature")
# #Delete First Row
xxJdiseases <- xxJdiseases[-1, ]
#
# #Save Binary Files
for(ii in seq_along(namesJ)){
  saveRDS(eval(parse(text = namesJ[ii])), paste0(.z$XL, namesJ[ii], ".rds"))
}
```

```{r 'B-ImportData', include=FALSE}
for(ii in seq_along(namesJ)){
  assign(namesJ[ii], readRDS(paste0(.z$XL, namesJ[ii], ".rds")))
}
```

```{r 'B-List', include=FALSE}
# #Dimensions of these datasets
str(lapply(namesJ, function(x) {dim(eval(parse(text = x)))}))
```

```{r 'B-List-A', ref.label=c('B-Jnames', 'B-List')}
#
```


### Q1 {.unlisted .unnumbered .tabset .tabset-fade}

Test the claim that disease 6 (leaf curl) information was accessed at least 60 times every month on average since October 2017 due to this disease outbreak. $({\alpha} = 0.05)$


```{r 'B-'}
# #Data | Rename | Sum Months D6 | Change from Date Time to Date
bb <- xxJdata %>% 
  rename(Dates = "Month-Year") %>% 
  group_by(Dates) %>% 
  summarise(D6 = sum(D6)) %>% 
  mutate(across(Dates, as_date))
```

#### Code


```{r 'B-'}
# #Create Sequence of Months
ii <- tibble(Dates = seq(min(bb$Dates), max(bb$Dates), by = "months"))
# #Fill Missing Months 
kk <- right_join(bb, ii, by = "Dates") %>% arrange(Dates)
# #Replace NA
ll <- kk %>% mutate(across(D6, coalesce, 0)) 
str(ll)
summary(ll)
```


#### Missing Months

```{r 'B-'}
str(bb)
summary(bb)
#
# #Assuming each row is one month with no duplicates
stopifnot(identical(anyDuplicated(bb$Dates), 0L))
#
# #Create Sequence of Months
#ii <- seq(ymd("2015-6-1"), ymd("2018-5-1"), by = "months")
ii <- tibble(Dates = seq(min(bb$Dates), max(bb$Dates), by = "months"))
#
diff_len <- nrow(ii) - nrow(bb)
#
if(!identical(diff_len, 0L)) {
  cat(paste0("Number of missing months = ", diff_len,"\n"))
  #
  # #Find Values that should be in Complete Sequence but are missing in the data
  as_date(setdiff(ii$Dates, bb$Dates))
  # #OR
  ii %>% anti_join(bb)
  #
  # #This does not need a separate Vector of all Months
  # #Get Months Difference using Integer Division and 
  # #Filter Rows which are not consecutive and rows above them
  bb %>% 
    mutate(diff_months = (interval(lag(Dates), Dates)) %/% months(1)) %>% 
    filter( (diff_months != 1) | lead(diff_months != 1) )
}
```


```{r 'B-'}
# #Fill Missing Months 
jj <- as_tibble(merge(bb, ii, by = "Dates", all = TRUE)) 
kk <- right_join(bb, ii, by = "Dates") %>% arrange(Dates)
stopifnot(identical(jj, kk))
```


### Q2 

Test the claim that Among the app users for disease information, at least 15% of them access disease information related to disease 6. $({\alpha} = 0.05)$


### Q3 

Test the claim that the average number of users in year 2017-2018 is more than average number of users in year 2015-2016. $({\alpha} = 0.05)$

### Q4 

Check whether app usage is same or different across the four weeks of a month. 
Also, using data from January-2016 â€“ May-2018, test the claim that app usage picked up after January 2016.

### Q5 

A new version of the app was released in August-2016. Which month in the given time frame after the launch of the new version, the mean usage pattern would start to show a statistically significant shift

### Q6

If a disease is likely to spread in particular weather condition (data given in the disease index sheet), then the access of that disease should be more in the months having suitable weather conditions. Help the analyst in coming up with a statistical test to support the claim for two districts for which the sample of weather and disease access data is provided in the data sheet. Identify the diseases for which you can support this claim. Test this claim both for temperature and relative humidity at 95% confidence.



## Validation {.unlisted .unnumbered .tabset .tabset-fade}

```{r 'B15-Cleanup', include=FALSE, cache=FALSE}
f_rmExist(aa, bb, ee, hh, ii, jj, kk, ll, mm, nn, oo, rr, vv, xx, yy, zz)
```

```{r 'B15-Validation', include=TRUE, cache=FALSE}
# #SUMMARISED Packages and Objects (BOOK CHECK)
f_()
#
difftime(Sys.time(), k_start)
```

****
